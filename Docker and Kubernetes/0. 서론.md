- [0. 서론 : 인프라 관리와 소프트웨어 아키텍처의 변화.](#0-서론--인프라-관리와-소프트웨어-아키텍처의-변화)
  - [1. 모놀리식 아키텍처](#1-모놀리식-아키텍처)
  - [2. 마이크로서비스 아키텍처 (MSA)](#2-마이크로서비스-아키텍처-msa)
  - [3. 도커의 등장 배경](#3-도커의-등장-배경)
  - [4. 여담 : 현재의 개발 프로세스](#4-여담--현재의-개발-프로세스)
    - [CI/CD?](#cicd)

# 0. 서론 : 인프라 관리와 소프트웨어 아키텍처의 변화.

클라우드가 발전하면서 인프라 관리가 변화하고 있다. 또한 인프라가 변하면서 더 나은 소프트웨어 개발 아키텍쳐가 나왔다. 

![모놀리식vs마이크로서비스](./image/1.2-1.모놀리식vs마이크로서비스.png)

먼저 예전의 아키텍처인 모놀리식 아키텍처부터 살펴보자.

## 1. 모놀리식 아키텍처

서비스에 관련된 모든 부분이 **하나의 서버**에 배치된다. 

- 장점 : 아키텍처가 단순하여 설계 및 구현이 쉬워진다.

- 단점
    1. 서비스의 규모가 커짐에 따라 기능 변경이나 장애 발생 시 빠르게 대응하기 힘들다.
    2. 많은 트래픽으로 인해 서버를 증설해야 할 때도 서버 하나, 즉 전체를 증가시켜야 하기 때문에 자원낭비도 심해진다.  

이런 모놀리식 구조의 한계를 극복하기 위해 **클라우드**를 등에 업은 **마이크로서비스 아키텍쳐**가 등장한다. 

----------------------
## 2. 마이크로서비스 아키텍처 (MSA)

한 서비스에서 기능별로 서버의 위치를 다르게 하여 서비스를 구성하기 위한 **기능들을 여러 서버로 쪼개서** 운영한다. 

- 장점 
    1. 소스, 서버 등의 구성요소를 가볍게 구성할 수 있다. 
    2. 기능별로 서버가 분산되어 있어 장애가 생겼을 때 이를 빠르게 캐치할 수 있다.
    3. 많이 쓰이는 기능의 경우 **해당 기능에 대한 리소스만 늘려**주면 되어 자원을 효율적으로 사용할 수 있다.  

- 단점
    1. 너무많은 서버를 유지, 보수해야한다. 
    2. 기능 추가 시 서버를 새로 배치할 지, 기존의 서버에 운영할 지에 대한 이슈 등 아키텍처를 	구성하는데 많은 시간이 걸린다. 
    3. 서비스간 호출이 많아지면서 전체적인 아키텍처의 복잡도가 높아질 수 있다. 

-------------------
## 3. 도커의 등장 배경

마이크로서비스 아키텍처로 서비스를 구현하면 수많은 서버를 관리해주어야 하는데 이것은 여간 쉬운게 아니었다. 

1. 전가상화

	이런 서버 관리 문제는 가상화 솔루션으로 어느정도 해결이 가능했다. 하나의 큰 서버를 가상화 기술을 통해 쪼개서 마이크로서비스들을 구현하는 것이었다. 이러면 서버는 한 대만 유지, 보수하지만 여러 대의 서버를 사용 가능. 이것이 **전가상화**이다.

전가상화는 하이퍼바이저를 통해 나눠진 게스트 운영체제와 통신할 수 있다. 하지만 이런 방식은 무겁다. (무겁다는게 상황에 따라 온전한 속도를 보장하지 못 한다.)

2. 컨테이너 방식의 가상화

	이러한 하이퍼바이저 방식의 성능 저하를 막기 위해 **컨테이너** 방식의 가상화가 각광받았고, 컨테이너 방식을 구현한 것이 **Docker**이다.


	>컨테이너?
	>
    >기존의 가상화처럼 게스트 운영체제를 포함하지 않기 때문에 속도가 빠르고 용량도 작다. 
	>
    >용량이 작으면 배포도 빠르다. 

----------------

## 4. 여담 : 현재의 개발 프로세스

개발자가 코딩 -> 코드 저장소에 커밋 -> 빌드 요청 -> CI/CD를 담당하는 서버나 서비스가 배포

### CI/CD?

라이프 사이클 : 서비스 통합 -> 테스트 -> 배포

이것들을자동화해줌

게다가 이 과정을 모니터링함

CI (Continuous Integration) : 개발자를 위한 자동화 프로세스. 코드 변경이 정기적으로 빌드 및 테스트 된다. 공유 레포지토리에 통합되어 다른 개발자 간에 충돌관리도 해준다. 

CD (Continuous Deployment and Delivery) : 수정사항이 테스트를 거쳐 자동으로 업로드 된다. 공유 레포지토리에서 배포환경까지 자동으로 배포된다. 